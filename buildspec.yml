version: 0.2

phases:
  install:
    commands:
      - echo Upgrading packages
      - apt-get update -y && apt-get upgrade -y
      # install Node LTS
      - echo installing Node
      - curl -sL https://deb.nodesource.com/setup_12.x | bash -
      - apt install -y nodejs
  pre_build:
    commands:
      - echo installing packages
      - npm i 
      - echo Testing
      - npm run test
  build:
    commands: 
      - echo Building Project
      - npm run build
artifacts:
  files:
    - '**/*'
  discard-paths: no
  base-directory: build